import{createRoot as e}from"react-dom/client";function t(...e){}const r=t,n=e=>e,o=n,a=e=>(...t)=>e,s=a,c=e=>t=>e(t),i=c,l=e=>t=>t(e),u=l,d=e=>t=>e(t)(t),p=d,g=e=>t=>r=>e(r)(t),m=g,f=e=>t=>r=>e(t(r)),h=f,E=e=>t=>r=>e(r)(t(r)),S=E,A=e=>t=>r=>e(t(r))(r),y=A,O=e=>t=>r=>n=>e(t(n))(r(n)),R=O,w=e=>t=>r=>n=>e(t(r))(t(n)),T=w,C=e=>{return(t=t=>e((e=>t(t)(e))))(t);var t},b=C;var _=Object.freeze({__proto__:null,noop:t,N:r,identity:n,I:o,constant:a,K:s,apply:c,A:i,thrush:l,T:u,duplication:d,W:p,flip:g,C:m,compose:f,B:h,substitution:E,S:S,chain:A,S_:y,converge:O,S2:R,psi:w,P:T,fixPoint:C,Y:b});const N=e=>({...e,middleware:n}),U=e=>e=>(...t)=>e(...t),v=(...e)=>0,L=(e,t)=>e.concat(t.middleware);function I(...e){return 0===e.length?n:1===e.length?e[0]:e.reduce(((e,t)=>(...r)=>e(t(...r))))}function H(...e){return t=>(...r)=>{const n=t(...r),o=e.map((e=>e(n))),a=I(...o)(n.middleware);return{...n,middleware:a}}}const j=(e={})=>{const{createApi:t=N,middleware:r=[{middleware:U}],sort:n=v,transform:o=L}=e;return H(...r.sort(n).reduce(((e,t,r,n)=>o(e,t,r,n)),[]))(t)},$=(e,t,r)=>e<=t?t:e>=r?r:e,P=e=>`[${e}m`,V={black:P("30"),blue:P("34"),cyan:P("36"),magenta:P("35"),green:P("32"),white:P("37"),yellow:P("33"),red:P("31"),reset:P("0")},M={debug:V.green,info:V.white,warn:V.yellow,error:V.magenta,fatal:V.red,stop:V.reset},x=(e,t="/")=>Reflect.ownKeys(e).reduce(((r,n)=>{let o={};return o="object"==typeof e[n]?Reflect.ownKeys(e[n]).reduce(((r,o)=>(r[`${n.toString()}${t}${o.toString()}`]=e[n][o],r)),{}):{[n]:e[n]},{...r,...o}}),{}),k=e=>`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}T${e.getHours()}:${e.getMinutes()}:${e.getSeconds()}:${e.getMilliseconds()}`,G=(e=k)=>()=>{const t=new Date;return{raw:t,formatted:e(t)}},B=e=>Object.values(e).reduce(((e,t)=>e.concat(t.toString())),[]),D=()=>`${re(8)}-${re(4)}-${re(4)}-${re(4)}-${re(12)}`,q=e=>Reflect.ownKeys(e).reduce(((t,r)=>(void 0!==e[r]&&(t[r]=e[r]),t)),{}),J=e=>{if(e.length<2||e.length%2!=0||e.match(/[0-9a-fA-F]/g).length!==e.length)throw new Error("Hexidecimal is 0-9 and a-f characters and even length only.");const t=e.match(/[\s\S]{1,2}/g)||[];return Array.from(t).reduce(((e,t)=>e.concat(String.fromCharCode(parseInt(t,16)))),"")},F=(e,t,r={})=>e.reduce(((e,n,o)=>{const a=t[o];let s="";return"function"==typeof a?s=a(r)??"":"string"==typeof a&&(s=a),e.concat(n,s)}),""),K=()=>"object"==typeof process&&"string"==typeof process.versions?.node,Q=e=>JSON.parse(JSON.stringify(e)),z=/(?<=\[\s*).*?(?=\s*\])/gs,Y=(e,t={})=>{const{accumulator:r={},callback:n=W,delimeter:o="&",objectNotation:a=".",separator:s="="}=t;return e.split(o).reduce(((e,t)=>{const[c,i]=t.split(s);if(c.includes(a)){const[t,...n]=c.split(a);t.match(z)||(e[t]=Y([n.join(a),i].join(s),{accumulator:r[t],delimeter:o,objectNotation:a,separator:s}))}else{const t=n(i);e[c]=e[c]?e[c]instanceof Array?e[c].concat(t):[e[c],t]:t}return e}),r)},W=e=>{try{switch(!0){case"null"===e:return null;case"true"===e:return!0;case"false"===e:return!1;case!isNaN(e):return Number(e);case Boolean(e.match(/(?:[+-])?([0-9]{1,})(n)/)):return BigInt(e);default:return e}}catch(t){return e}},Z=e=>!0==(void 0===e)?"null":String(e),X=e=>t=>new Proxy(t,e),ee=(e,t={})=>{const{accumulator:r=[],callback:n=Z,delimeter:o="&",objectNotation:a=".",prefix:s=[],separator:c="="}=t;return Reflect.ownKeys(e).reduce(((t,r)=>e[r]instanceof Array?t.concat(e[r].reduce(((e,t)=>e.concat(`${s.concat(r).join(a)}${c}${n(t)}`)),[])):"object"==typeof e[r]?t.concat(ee(e[r],{accumulator:[],delimeter:o,objectNotation:a,prefix:s.concat(r),separator:c})):t.concat(`${s.concat(r).join(a)}${c}${n(e[r])}`)),r).join(o)},te=e=>Object.keys(Q(e)).reduce(((t,r)=>"string"!=typeof e[r]?t.concat(Object.keys(e[r]).reduce(((t,n)=>t.concat(`${r}.${n}=${e[r][n]}`)),[]).join("&")):t.concat(`${r}=${e[r]}`)),[]).join("&"),re=e=>{if(e%2!=0)throw new Error("Length must be even: "+e);return oe(e,{filterRegex:/[g-zG-Z]/g})},ne=(e=4,t={})=>{const{bigint:r=!1,prefix:n="",sign:o="+"}=t;if(!r&&(1>e||e>15))throw new Error("Non-BigInt integer digit count must be with the range of 1 to 15.");const a=Math.floor(e),s=Math.random().toString().slice(2,2+a);if(s.length!==a)return ne(Number(a)-s.length,{bigint:r,prefix:n.concat(s),sign:o});const c=o+n.concat(s);return r?BigInt(c):Number(c)},oe=(e=20,{prefix:t="",filterRegex:r}={})=>{let n=Math.random().toString(36).slice(2,2+e);return n=r?n.replace(r,""):n,n.length!==e?oe(e-n.length,{prefix:t.concat(n),filterRegex:r}):t.concat(n)},ae=e=>e.replace(/\s{1,}/gm," ").replace(/\n/gm,"").trim(),se=e=>{const t={};for(const[r,n]of e)if(r.includes(".")){const[e,o]=r.split(".");t[e]=t[e]??{},t[e][o]=t[e][o]??{},t[e][o]=n}else t[r]=t[r]?[t[r],n]:n;return t},ce=/\/\*([^)]{0,})\*\//gm,ie=/\/\/.*/gm,le=e=>e.replace(ce,"").replace(ie,""),ue=(e,t)=>{Object.keys(e).forEach((r=>{void 0!==t[r]&&(e[r]=t[r])}))},de=e=>Array.from(Array(e.length).keys()).reduce(((t,r)=>t.concat(e.charCodeAt(r).toString(16))),""),pe=e=>t=>r=>{const{action:n}=e,{cache:o,key:a,value:s}=r;switch(n?.type){case"CACHE_CLEAR":return t({...r,result:new Map});case"CACHE_GET_VALUE":return t({...r,result:o.get(a)});case"CACHE_HAS_VALUE":return t({...r,result:o.has(a)});case"CACHE_LENGTH":{let e=0;for(const t of o.keys())e+=1;return t({...r,result:e})}case"CACHE_REMOVE_VALUE":return t({...r,result:o.delete(a,s)});case"CACHE_SET_VALUE":return o.set(a,s),t({...r});default:return t(r)}};var ge;!function(e){e.CACHE_CLEAR="CACHE_CLEAR",e.CACHE_GET_VALUE="CACHE_GET_VALUE",e.CACHE_HAS_VALUE="CACHE_HAS_VALUE",e.CACHE_LENGTH="CACHE_LENGTH",e.CACHE_REMOVE_VALUE="CACHE_REMOVE_VALUE",e.CACHE_SET_VALUE="CACHE_SET_VALUE"}(ge||(ge={}));class me{cache=new Map;cacheName;constructor(e={}){const{name:t=oe()}=e;this.cacheName=t}get length(){let e=0;for(const t of this.cache.keys())e+=1;return e}hasValue(e){return this.cache.has(e)}get name(){return this.cacheName}setValue(e,t){this.cache.set(e,t)}getValue(e){return this.cache.get(e)}removeValue(e){return this.cache.delete(e)}clear(){this.cache=new Map}}function fe(e={}){const{createApi:t,middleware:r=[{middleware:pe}],sort:n,transform:o,name:a=oe()}=e;let s=new Map;const c=a,i=j({createApi:t,middleware:r,sort:n,transform:o});return{clear(){const{result:e}=i({action:{type:ge.CACHE_CLEAR}}).middleware({cache:s});s=e},getValue(e){const{result:t}=i({action:{type:ge.CACHE_GET_VALUE}}).middleware({cache:s,key:e});return t},hasValue(e){const{result:t}=i({action:{type:ge.CACHE_HAS_VALUE}}).middleware({cache:s,key:e});return t},get length(){const{result:e}=i({action:{type:ge.CACHE_LENGTH}}).middleware({cache:s});return e},get name(){return c},removeValue(e){const{result:t}=i({action:{type:ge.CACHE_REMOVE_VALUE}}).middleware({cache:s,key:e});return t},setValue(e,t){i({action:{type:ge.CACHE_SET_VALUE}}).middleware({cache:s,key:e,value:t})}}}const he=e=>{const{callback:t,createApi:r,middleware:n,sort:o,transform:a}=e,s=j({createApi:r,middleware:n,sort:o,transform:a});return(e,r,n)=>{let o,a;"number"==typeof n?a=n:n&&(o=n);const c=q({api:s,descriptor:o,parameterIndex:a,propertyKey:r,target:e});return t(c)}},Ee=e=>he(e),Se=e=>he(e),Ae=e=>t=>{e(t)},ye=({callback:e,newDescriptor:t})=>(r,n,o)=>{e?e(r,n,o):t&&ue(o,t)},Oe=(e=t)=>(t,r,n)=>{e(t,r,n)},Re=({callback:e,accessors:t})=>(r,n)=>{e?e(r,n):t&&Reflect.defineProperty(r,n,t)};var we,Te;function Ce(e){const{abortControllerOptions:t={},createApi:r,middleware:n,middlewareOptions:o={},request:a,requestInitOptions:s={},sort:c,transform:i}=e,{reason:l="Controller was aborted.",timeout:u=5e3}=t;let{signal:d}=s;if(!d){const e=new AbortController,t=AbortSignal.timeout(u);d=AbortSignal.any([e.signal,t]),setTimeout((()=>e.abort(l)),u)}const p=j({createApi:r,middleware:n,sort:c,transform:i});return async e=>{const t={...s,...e},{requestOptions:r}=p({action:{data:{options:o},type:Te.HTTP_REQUEST}}).middleware({requestOptions:[a,{...t,signal:d}]}),n=await fetch(...r);return p({action:{data:{options:o},type:Te.HTTP_RESPONSE}}).middleware(n)}}function be(e,t){return async r=>{const n={...t,...r};return n.requestInitOptions=n.requestInitOptions?{...n.requestInitOptions,method:e}:{method:e},Ce(n)}}function _e(e){return{connect:be(we.CONNECT,e),delete:be(we.DELETE,e),get:be(we.GET,e),head:be(we.HEAD,e),options:be(we.OPTIONS,e),patch:be(we.PATCH,e),post:be(we.POST,e),put:be(we.PUT,e),trace:be(we.TRACE,e)}}!function(e){e.CONNECT="CONNECT",e.DELETE="DELETE",e.GET="GET",e.HEAD="HEAD",e.OPTIONS="OPTIONS",e.PATCH="PATCH",e.POST="POST",e.PUT="PUT",e.TRACE="TRACE"}(we||(we={})),function(e){e.HTTP_REQUEST="HTTP_REQUEST",e.HTTP_RESPONSE="HTTP_RESPONSE"}(Te||(Te={}));const Ne=e=>t=>r=>{if("LOGGER_LOG_LINE"===e.action.type){const{logLine:e,output:t}=r,{lineOptions:n,logRecord:o}=e,{level:a}=n;t["fatal"===a?"error":a](o.formatted)}return t(r)},Ue=e=>t=>r=>{const{args:n,lineOptions:o}=r;return"LOGGER_CREATE_LINE"===e.action.type?t({lineOptions:o,logRecord:{raw:{args:n,lineOptions:o},formatted:o.formatter({args:n,lineOptions:o})}}):t(r)},ve=e=>{const{args:t,lineOptions:r,template:n=Le}=e,{level:o,prefix:a,timeStamp:s}=r;return n({args:t,escapeStart:K()?M[o]:"",escapeStop:K()?M.stop:"",level:o,prefix:a,timeStamp:s})},Le=(e={})=>{const{args:t,escapeStart:r,escapeStop:n,level:o,prefix:a,timeStamp:s}=e;return[`${r}[${[s.formatted,o.toUpperCase(),a].filter(Boolean).join(" | ")}]:`,JSON.stringify(t,null,2),n].join(" ")};var Ie;!function(e){e.LOGGER_CREATE_LINE="LOGGER_CREATE_LINE",e.LOGGER_LOG_LINE="LOGGER_LOG_LINE"}(Ie||(Ie={}));const He=(e={})=>{let{formatter:t=ve,level:r="info",prefix:n="",output:o=globalThis.console}=e;const{createApi:a,middleware:s=[{middleware:Ne},{middleware:Ue}],middlewareOptions:c={},sort:i,transform:l}=e,u=j({createApi:a,middleware:s,sort:i,transform:l});return{updateOptions(e={}){t=e.formatter||t,r=e.level||r,n=e.prefix||n,o=e.output||o},log(...e){const a=G()(),s={formatter:t,level:r,prefix:n,timeStamp:a},i=u({action:{data:{options:c},type:Ie.LOGGER_CREATE_LINE}}).middleware({args:e,lineOptions:s});u({action:{data:{options:c},type:Ie.LOGGER_LOG_LINE}}).middleware({logLine:i,output:o})}}};var je;!function(e){e.MATCH="MATCH"}(je||(je={}));const $e=(e={})=>{const{createApi:t,middleware:r,options:n={},sort:o,transform:a}=e,s=j({createApi:t,middleware:r,sort:o,transform:a});return(e,t)=>s({action:{type:je.MATCH,data:{options:n}}}).middleware(e,t)},Pe=(e={},t={})=>{const{logger:r=globalThis.console.log}=t;return{...e,get:(e,t,n)=>e[t]?e[t]:(r(`Something went wrong... '${t.toString()}' does not exist on ${n}.`),e)}},Ve=(e={})=>{const{createApi:t,sort:r,transform:n,defaultHandler:o={},defaultTarget:a={},methodName:s="match",middleware:c}=e;return X(Pe(o))({...Me(a),[s]:$e({createApi:t,middleware:c,sort:r,transform:n})})},Me=e=>{let t;const r={get be(){return{instanceOf(e,n){const o=t.eval(n);return r.eq(!0,o instanceof e)},typeOf(e,n){const o=t.eval(n);return r.eq(e,typeof o)},get array(){return this.instanceOf(Array)},get bigint(){return this.typeOf("bigint")},get boolean(){return this.typeOf("boolean")},get false(){return r.eq(!1)},get function(){return this.typeOf("function")},get NaN(){if(!t.negate&&!isNaN(t.eval()))throw new Error(`Expected is not a NaN value: ${t.eval()}`);return this.typeOf("number")},get number(){return this.typeOf("number")},get null(){return r.eq(null)},get object(){return this.typeOf("object")},get set(){return this.instanceOf(Set)},get string(){return this.typeOf("string")},get symbol(){return this.typeOf("symbol")},get true(){return r.eq(!0)},get undefined(){return this.typeOf("undefined")}}},eq(e,r){const n=t.eval(r);if(t.negate&&n===e||!t.negate&&n!==e)throw new Error(`Expected: ${t.negate?"not":""} ${n}, actual: ${e}.`);return!0},include(e,n){const o=t.eval(n);switch(typeof o){case"object":return o instanceof Array?r.eq(!0,o.includes(e)):r.eq(!0,Reflect.ownKeys(o).includes(e));case"string":return r.eq(!0,o.includes(e));default:throw new Error(`Unsupported type. Currently only strings, objects and arrays are supported. Provided: ${o}.`)}},get not(){return t.negate=!t.negate,r},get to(){return r},throw(e,n){let o,a,s;try{s=t.eval(n),s()}catch(e){o=e,a=!0}if(t.negate){if(e)r.eq(!1,o instanceof e);else if(a)throw new Error(`Expected expression: ${s.toString()}, threw error when not expected to: ${o}`)}else if(e)r.eq(!0,o instanceof e);else if(!a)throw new Error(`Expected expression: ${s.toString()}, did not throw error when expected to: ${s.toString()}`)}};return{...e,expect(e){var n;return t={expression:n=e,eval:e=>{const t=e||n;return"function"==typeof t?t():t},negate:!1},r}}},xe=t=>{const{Component:r,rootElement:n}=t;let o;if("string"==typeof n){if(o=document.body.querySelector(n),!o)throw new Error(`Root Element query selector is invalid: ${n}`)}else o=n;e(o).render(r)},ke=e=>{const{Component:t,logger:r=globalThis.console.warn,rootElement:n,renderFunc:o=xe}=e;try{if(["complete","interactive"].includes(document.readyState))setTimeout((()=>o({Component:t,rootElement:n})),0);else{const e=()=>{o({Component:t,rootElement:n}),globalThis.removeEventListener("DOMContentLoaded",e)};globalThis.addEventListener("DOMContentLoaded",e)}return!0}catch(e){return r(e),!1}};function Ge(e={}){const{current:t,future:r=[],past:n=[]}=e;return{past:n,current:t,future:r}}const Be=(e,t)=>{t&&t>0&&(e.past.length>t&&(e.past=e.past.slice(0,t)),e.future.length>t&&(e.future=e.future.slice(0,t)))};function De(e={}){const{idFactory:t=D,limit:r}=e;let{history:n=Ge()}=e;const o={clear:()=>{n=Ge()},getHistory:()=>n,getState:()=>n.current,jumpToFutureRevision:e=>{let t;for(const[r,a]of n.future.entries())if(a.revisionId===e){t=o.redo(r+1);break}return t},jumpToPastRevision:e=>{let t;for(const[r,a]of n.past.entries())if(a.revisionId===e){t=o.undo(r+1);break}return t},jumpToRevision:e=>{if(n.current.revisionId===e)return n.current;const t=o.jumpToPastRevision(e);if(t&&t.revisionId===e)return t;const r=o.jumpToFutureRevision(e);return r&&r.revisionId===e?r:void 0},redo:(e=1)=>{if(e>=1&&n.future.length>=e){const t=e-1,o=n.future[t],a=n.current;n.current=o;const s=n.future.slice(0,t);n.future=n.future.slice(e,n.future.length),n.past.unshift(...[a,...s].reverse()),Be(n,r)}return n.current},setState:e=>{const o=Q(n);try{return n.current={revisionId:t(e),value:e},n.future=[],n.past.unshift(o.current),Be(n,r),n.current}catch(e){return n=o,n.current}},undo:(e=1)=>{if(e>=1&&n.past.length>=e){const t=e-1,o=n.past[t],a=n.current;n.current=o;const s=n.past.slice(0,t);n.past=n.past.slice(e,n.past.length),n.future.unshift(...[a,...s].reverse()),Be(n,r)}return n.current}};return o}const qe=e=>{const{actions:t={},name:r=oe()}=e;let n=new Map;const o={dispatch:(e,t)=>o.hasAction(t.type)?o.getAction(t.type)(e):e,getAction:e=>n.get(e),getAllActions(){const e={};for(const[t,r]of n)e[t]=r;return e},hasAction:e=>n.has(e),get name(){return r},removeAction:e=>{n.delete(e)},removeAllActions(){n=new Map},setAction:(e,t)=>{n.set(e,t)},setActions:(e={})=>{Reflect.ownKeys(e).forEach((t=>{o.setAction(t,e[t])}))}};return o.setActions(t),o},Je=e=>{const{historyCtl:r}=e;return e=>{const{data:n,type:o}=e.action,{subscribers:a}=n;let s={log:t,updateOptions:t};if(n?.options?.logger){const e=["Reducer Store Dispatch",n.options.logger.prefix].join(" - ");s=He({prefix:e})}return e=>t=>{const{action:n,callback:c,reducerAction:i,state:l}=t;if("@DISPATCH_ACTION"===o)switch(n.type){case"@CLEAR":return s.log("Action: [@CLEAR]"),r.clear();case"@JUMP_TO_FUTURE_REVISION":{s.log("Action: [@JUMP_TO_FUTURE_REVISION]",{action:n,state:l});const{revisionId:e}=n.data;return r.jumpToFutureRevision(e)}case"@JUMP_TO_PAST_REVISION":{s.log("Action: [@JUMP_TO_PAST_REVISION]",{action:n,state:l});const{revisionId:e}=n.data;return r.jumpToPastRevision(e)}case"@JUMP_TO_REVISION":{s.log("Action: [@JUMP_TO_REVISION]",{action:n,state:l});const{revisionId:e}=n.data;return r.jumpToRevision(e)}case"@REDO":{s.log("Action: [@REDO]",{action:n});const{steps:e}=n.data;return r.redo(e)}case"@UNDO":{s.log("Action: [@UNDO]: ",{action:n});const{steps:e}=n.data;return r.undo(e)}default:{s.log({action:n,state:l});const e=i(l,n);s.log({result:e});const t=r.setState(e.value);for(const[e,r]of a)r({action:n,state:l,newState:t});return}}else"@SUBSCRIBE"===o?a.set(c,c):"@UNSUBSCRIBE"===o&&a.delete(c);return e(t)}}};var Fe;!function(e){e.DISPATCH_ACTION="@DISPATCH_ACTION",e.SUBSCRIBE="@SUBSCRIBE",e.UNSUBSCRIBE="@UNSUBSCRIBE",e.CLEAR="@CLEAR",e.JUMP_TO_FUTURE_REVISION="@JUMP_TO_FUTURE_REVISION",e.JUMP_TO_PAST_REVISION="@JUMP_TO_PAST_REVISION",e.JUMP_TO_REVISION="@JUMP_TO_REVISION",e.REDO="@REDO",e.UNDO="@UNDO"}(Fe||(Fe={}));const Ke=B(Fe),Qe=e=>{const{historyCtl:t=De(),name:r,options:n={},createApi:o,sort:a,transform:s,reducers:c}=e;let{middleware:i=[]}=e;const l=x(c);i=[{middleware:Je({historyCtl:t})},...i];const u=new Map,d=j({createApi:o,middleware:i,sort:a,transform:s});return{get actions(){return l},dispatch(e){const r=l[e.type];if(r||Ke.includes(e.type)){const o=t.getState();d({action:{type:Fe.DISPATCH_ACTION,data:{options:n,subscribers:u}}}).middleware({action:e,reducerAction:r,state:o})}},getState:()=>t.getState(),get name(){return r},subscribe:e=>(d({action:{data:{options:n,subscribers:u},type:Fe.SUBSCRIBE}}).middleware({callback:e}),()=>{d({action:{data:{options:n,subscribers:u},type:Fe.UNSUBSCRIBE}}).middleware({callback:e})})}};class ze extends URL{static generatedObjectURLS=[];static createObjectURL(e){const t=super.createObjectURL(e);return this.generatedObjectURLS=this.generatedObjectURLS.concat(t),t}static get currentUrl(){return new ze(globalThis.location.href)}static get objectURLS(){return this.generatedObjectURLS}static revokeObjectURL(e){this.generatedObjectURLS.includes(e)&&(this.generatedObjectURLS=this.generatedObjectURLS.filter((t=>t!==e))),super.revokeObjectURL(e)}static revokeAllObjectURLs(){this.generatedObjectURLS.forEach((e=>this.revokeObjectURL(e)))}constructor(e){super(e)}get params(){return se(this.searchParams)}set params(e){this.search=te(e)}}class Ye{static globalResources=new Map;static controllerNames=[];static create(e){const{controller:t,name:r}=e;this.globalResources.set(`${t.toString()}/${r.toString()}`,e)}static delete(e,t){return this.globalResources.delete(`${e.toString()}/${t.toString()}`)}static get(e,t){return this.globalResources.get(`${e.toString()}/${t.toString()}`)}static update(e){const{controller:t,name:r,url:n}=e,o=this.get(t,r);o&&(o.url=n,this.globalResources.set(`${t.toString()}/${r.toString()}`,o))}static list(){const e={};for(const[t,r]of this.globalResources){const[n,o]=t.toString().split("/");e[n]=e[n]??{},e[n][o]=r}return e}static validateIdString(e){return null!==e.match(/^((?!\/).)*$/i)}controllerName;controllerResources=new Map;names=[];constructor(e){if(!Ye.validateIdString(e.toString()))throw new Error(`Controller: '${e.toString()}' must not include the character ':'.`);if(Ye.controllerNames.includes(e))throw new Error(`Controller: '${e.toString()}' already taken.`);this.controllerName=e,Ye.controllerNames.push(e)}get name(){return this.controllerName.toString()}get resources(){const e={};for(const[t,r]of this.controllerResources)e[t.toString()]=r;return e}create(e){try{const{name:t}=e;if(!Ye.validateIdString(t.toString()))throw new Error(`Resource: '${t.toString()}' must not include the character ':'.`);if(this.names.includes(t))throw new Error(`Resource: '${t.toString()}' already taken.`);const r=Ze(e)();return this.controllerResources.set(t,r),Ye.get(this.controllerName,r.name)?Ye.update({controller:this.controllerName,name:r.name,url:r.url}):Ye.create({controller:this.controllerName,name:r.name,url:r.url}),r}catch(e){console.warn(e)}}delete(e){try{const t=this.controllerResources.get(e.toString());return!!t&&(t.revokeUrl(),this.controllerResources.delete(e)&&Ye.delete(this.controllerName,e))}catch(e){return console.warn(e),!1}}get(e){return this.controllerResources.get(e)}update(e){try{const t=this.controllerResources.get(e.name),{data:r=t.data,mimeType:n=t.mimeType,name:o,factory:a=t.factory}=e;t.revokeUrl();const s=Ze({data:r,factory:a,mimeType:n,name:o})();return this.controllerResources.set(o,s),Ye.get(this.controllerName,t.name)?Ye.update({controller:this.controllerName,name:t.name,url:t.url}):Ye.create({controller:this.controllerName,name:t.name,url:t.url}),s}catch(e){console.warn(e)}}}const We=e=>(t,...r)=>{const{factory:o=n,mimeType:a="text/javascript",name:s,...c}=e;let i;return{get blob(){return new Blob([this.toString()],{type:a})},get data(){return F(t,r,c)},get factory(){return o},get mimeType(){return a},get name(){return s},revokeUrl(){ze.revokeObjectURL(i),i=""},toString(){return o(this.data)},get url(){return i&&0!==i.length||(i=ze.createObjectURL(this.blob)),i}}},Ze=e=>(t={})=>{const{data:r,mimeType:o,name:a,factory:s=n}={...e,...t};let c;return{get blob(){return new Blob([this.data],{type:o})},get data(){return r},get factory(){return s},get mimeType(){return o},get name(){return a},revokeUrl(){ze.revokeObjectURL(c),c=void 0},toString(){return s(this.data)},get url(){return c||(c=ze.createObjectURL(this.blob)),c}}};export{ge as CACHE_ACTIONS,Te as HTTPCLIENT_ACTIONS,we as HTTPMethods,Ce as HttpClient,Ie as LOGGER_ACTIONS,je as MATCHER_ACTIONS,me as MapCache,Ye as ResourceController,Fe as STORE_ACTIONS,ze as URLManager,H as applyMiddleware,z as arrayContentsRegex,ce as blockCommentRegEx,$ as clamp,be as clientFactory,P as colorCode,V as colorCodes,M as colorEscapeCodes,_ as combinators,I as compose,Ee as createClassDecorator,Ae as createClassHandler,Se as createClassMemberDecorator,ye as createClassMethodHandler,Oe as createClassParameterHandler,Re as createClassPropertyHandler,he as createDecorator,Ge as createHistory,De as createHistoryController,_e as createHttpClient,He as createLogger,fe as createMapCache,$e as createMatcher,Pe as createMatcherProxyHandler,j as createMiddlewareApi,x as createNamespacedRecord,Me as createProxiedMatchTarget,Ve as createProxiedMatcher,X as createProxy,qe as createReducer,Ze as createResource,Qe as createStore,We as createTextResource,G as createTimeStamp,B as enumToArray,D as fakeUuid,q as filterUndefinedFromObject,J as hexToUtf,F as interpolate,K as isNode,Q as jsonObjectCopy,W as jsonStringToPrimitiveType,Y as keyValToObject,ie as lineCommentRegEx,ke as mountRootComponent,ee as objectToKeyVal,te as objectToSearchParams,N as passthroughCreateApi,U as passthroughMiddleware,v as passthroughSort,L as passthroughTransform,Z as primitiveToJsonString,re as randomHexString,ne as randomInteger,oe as randomString,ae as removeWhitespace,se as searchParamsToObject,le as stripComments,ue as updateConstObject,de as utfToHex};
